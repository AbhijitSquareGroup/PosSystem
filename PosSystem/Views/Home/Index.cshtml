@{
    ViewData["Title"] = "Home Page";
}
<!DOCTYPE html>
<html>
<head>
    <title>Sales Page</title>
    <link href="~/css/sales-style.css" rel="stylesheet">
    <script src="~/scriptng/controller/salesctrl.js"></script>
    <!-- Include AngularJS library -->
    
    <!-- Include your AngularJS controller script -->
   
</head>
<body ng-app="salesApp" ng-controller="SalesController">
    <div class="container">
        <h1>Sales Page</h1>

        <!-- Dropdown for selecting a customer -->
        <div>
            <label for="customerSelect">Select Customer:</label>
            <select id="customerSelect" ng-model="selectedCustomerId" ng-change="getCustomerDetails()">
                <option value="">Select a Customer</option>
                @foreach (var customer in Model.Customer)
                {
                    <option value="@customer.CustomerId">@customer.CustomerName</option>
                }
            </select>
        </div>

        <!-- Display customer details -->
        <div ng-if="customerDetails">
            <h2>Customer Details:</h2>
            <p>Customer Name: <span>{{ customerDetails.CustomerName }}</span></p>
            <p>Customer Address: <span>{{ customerDetails.CustomerAddress }}</span></p>
            <!-- Add more customer details as needed -->
        </div>

        <!-- Table for adding products -->
        <div>
            <h2>Add Products:</h2>
            <table>
                <thead>
                    <tr>
                        <th>Product</th>
                        <th>Price</th>
                        <th>Quantity</th>
                        <th>Total</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="product in addedProducts">
                        <td>{{ product.ProductName }}</td>
                        <td>{{ product.ProductPrice }}</td>
                        <td>{{ product.Quantity }}</td>
                        <td>{{ product.Total }}</td>
                    </tr>
                </tbody>
            </table>
            <button ng-click="addProduct()">Add Product</button>
        </div>

        <!-- Calculate total sale, discount, and grand total -->
        <div>
            <h2>Summary:</h2>
            <p>Total Sale: $<span>{{ calculateTotalSale() }}</span></p>
            <label for="discount">Discount:</label>
            <input type="number" id="discount" ng-model="discountAmount" ng-change="calculateGrandTotal()">
            <p>Grand Total: $<span>{{ grandTotal }}</span></p>
        </div>
    </div>
</body>
</html>

