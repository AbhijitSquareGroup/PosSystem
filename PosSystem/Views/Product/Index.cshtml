@{
    ViewData["Title"] = "Index";
}
@* <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="~/css/product.css" rel="stylesheet" />
    <title>AngularJS Example</title>
</head>
<body ng-app="productApp">

    <div ng-controller="ProductController">
        <h1>Product List</h1>

        <table>
            <tr>
                <th>ID</th>
                <th>Name</th>
                <th>Description</th>
                <th>Sales Price</th>
            </tr>
            <tr ng-repeat="product in products">
                <td>{{ sl }}</td>
                <td>{{ product.Name }}</td>
                <td>{{ product.Description }}</td>
                <td>{{ product.Price }}</td>s
            </tr>
        </table>

        <h2>Create Product</h2>
        <div> 
            <input type="text" ng-model="newProduct.Name" placeholder="Name" required>
            <input type="text" ng-model="newProduct.Description" placeholder="Description" required>
            <input type="number" ng-model="newProduct.Price" placeholder="Sales Price" required>
            <button type="button" ng-click="save()">Create</button>
        </div>

        @* <h2>Edit Product</h2>
        <form ng-submit="editProduct(editingProduct)">
            <input type="text" ng-model="editingProduct.Name" placeholder="Name" required>
            <input type="text" ng-model="editingProduct.Description" placeholder="Description" required>
            <input type="number" ng-model="editingProduct.SalesPrice" placeholder="Sales Price" required>
            <button type="submit">Save</button>
        </form> 
    </div>

    <!-- Include AngularJS -->
    <script src="~/scriptNg/controller/productctrl.js"></script>

    <!-- Include your AngularJS script -->
</body>
</html>
*@





<!-- Include AngularJS -->


<!-- Include CSS -->
<link href="~/css/product.css" rel="stylesheet" />

<div ng-app="productApp" ng-controller="ProductController">
    <!-- Create/Edit Product Form -->
    <div class="form-container">
        <h2>Create/Edit Product</h2>
        <form ng-submit="save()">
            <div class="form-group">
                <label for="name">Name:</label>
                <input type="text" class="form-control" ng-model="Product.Name" required>
            </div>
            <div class="form-group">
                <label for="description">Description:</label>
                <input type="text" class="form-control" ng-model="Product.Description" required>
            </div>
            <div class="form-group">
                <label for="price">Price:</label>
                <input type="number" class="form-control" ng-model="Product.Price" required>
            </div>
            <!-- Dropdown for selecting BrandId -->
            <div class="form-group">
                <label for="brandId">Brand:</label>
                <select class="form-control" ng-model="Product.BrandId" ng-options="brand.brandId as brand.name for brand in brands">
                    <option value="">Select a Brand</option>
                </select>
            </div>
            <button type="submit" class="btn btn-success">{{ Product.ProductId>0 ? 'Update' : 'Create' }}</button>
            <button class="btn btn-secondary" ng-click="cancelEdit()">Cancel</button>
        </form>
    </div>

    <!-- Product List -->
    <!-- Product List -->
    <div class="table-container">
        <h2>Product List</h2>
        <table class="table table-bordered">
            <thead>
                <tr>
                    <th>Sl.No</th> <!-- Add a new column for Sl.No -->
                    <th>Product ID</th>
                    <th>Name</th>
                    <th>Description</th>
                    <th>Price</th>
                    <th>Brand</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="product in products">
                    <td>{{$index + 1}}</td> <!-- Use $index to display the Sl.No -->
                    <td>{{ product.productId }}</td>
                    <td>{{ product.name }}</td>
                    <td>{{ product.description }}</td>
                    <td>{{ product.price }}</td>
                    <td>{{ product.brandId }}</td>
                    <td>
                        <button class="btn btn-primary" ng-click="edit(product)">Edit</button>
                        <button class="btn btn-danger" ng-click="deleteProduct(product.productId)">Delete</button>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

</div>


<!-- Include AngularJS Controller -->
<script src="~/scriptNg/controller/productctrl.js"></script>
<script src="~/scriptng/controller/brandctrl.js"></script>